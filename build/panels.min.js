!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.webit||(t.webit={})).panels=e()}}(function(){return function(){function e(t,n,s){function i(r,a){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(o)return o(r,!0);var f=new Error("Cannot find module '"+r+"'");throw f.code="MODULE_NOT_FOUND",f}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return i(n||e)},u,u.exports,e,t,n,s)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<s.length;r++)i(s[r]);return i}return e}()({1:[function(e,t,n){var s=function(e,t,n,s){function i(e){return(3*u*e+2*f)*e+l}function o(e){return((u*e+f)*e+l)*e}function r(e){return((h*e+d)*e+c)*e}function a(e){var t,n,s,r,a,l;for(s=e,l=0;l<8;l++){if(r=o(s)-e,Math.abs(r)<p)return s;if(a=i(s),Math.abs(a)<1e-6)break;s-=r/a}if(t=0,n=1,s=e,s<t)return t;if(s>n)return n;for(;t<n;){if(r=o(s),Math.abs(r-e)<p)return s;e>r?t=s:n=s,s=.5*(n-t)+t}return s}var l=3*e,f=3*(n-e)-l,u=1-l-f,c=3*t,d=3*(s-t)-c,h=1-c-d,p=1e-5;this.get=function(e){return r(a(e))}};t.exports=s},{}],2:[function(e,t,n){var s=e("./bezier2.js"),i=function(){this.defaultBezierCurve=[0,0,1,1],this.precision=1e7,this.progress=0,this.current=0,this.requestId=0,this.inProgress=!1};i.prototype={run:function(e,t,n,s,i){this.stepCallback=n,this.doneCallback=s,this.forceStopCallback=i,this.easing=this.getEasing(t),this.duration=isNaN(e)?0:e,this.current=0,this.start(),this.step()},runFrom:function(e,t,n,s,i){this.stepCallback=s,this.doneCallback=i,this.easing=this.getEasing(n),e=this.findStartProgress(e,.1,0,1),this.duration=t,this.startTime=+new Date,this.startTime-=t*e,this.progress=e,this.inProgress=!0,this.step()},findStartProgress:function(e,t,n,s,i){"undefined"==typeof i&&(i=0);for(var o,a=n,l=0;a<s;){if(i++>40)return a;if(r=this.easing.get(a),Math.round(e*this.precision)==Math.round(r*this.precision))return a;if(this.isBetween(e,l,r))return this.findStartProgress(e,t/10,o,a,i);o=a,l=r,a+=t}return a},isBetween:function(e,t,n){return n>t?e>t&&e<n:e>n&&e<t},isRunning:function(){return this.inProgress},start:function(){this.inProgress=!0,this.startTime=+new Date,this.progress=0},stop:function(){cancelAnimationFrame(this.requestId),this.done()},forceStop:function(){cancelAnimationFrame(this.requestId),this.inProgress=!1,this.forceStopCallback&&this.forceStopCallback()},done:function(){this.inProgress=!1,this.doneCallback&&this.doneCallback()},step:function(){var e=this;e.trackProgress(),this.current<this.startTime+this.duration?(this.stepCallback(this.progress),this.requestId=requestAnimationFrame(function(){e.step()})):(this.stepCallback(1),this.done())},trackProgress:function(){this.current=+new Date;var e=this.current-this.startTime;this.progress=this.easing.get(e/this.duration)},getEasing:function(e){return e&&e.length&&4==e.length||(e=this.defaultBezierCurve),new s(e[0],e[1],e[2],e[3])}},t.exports=i},{"./bezier2.js":1}],3:[function(e,t,n){function s(e,t){i(e,t)||("undefined"!=typeof e.classList?e.classList.add(t):e.className+=" "+t)}var i=e("./hasCssClass");t.exports=s},{"./hasCssClass":7}],4:[function(e,t,n){var s=e("./bodyScrollDisable"),i=e("./overlay"),o=e("./manager");s.init(),i.init(),o.init(),t.exports={register:o.registerPanel,get:o.getPanel,show:o.showPanel,hide:o.hidePanel}},{"./bodyScrollDisable":5,"./manager":8,"./overlay":9}],5:[function(e,t,n){function s(){a=i("app"),l=i("app-w")}function i(e){var t=document.getElementsByClassName(e);return t.length>0?t[0]:null}function o(){f=u(),d(l,"app-w--disabled"),a.style.transform="translate(0,-"+f+"px)"}function r(){h(l,"app-w--disabled"),a.style.transform="",c(f)}var a,l,f,u=e("./getWindowScrollTop"),c=e("./setWindowScrollTop"),d=e("./addCssClass"),h=e("./removeCssClass");t.exports={init:s,disable:o,enable:r}},{"./addCssClass":3,"./getWindowScrollTop":6,"./removeCssClass":11,"./setWindowScrollTop":12}],6:[function(e,t,n){function s(){return window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop}t.exports=s},{}],7:[function(e,t,n){function s(e,t){return"undefined"==typeof e.classList?!!e.className.match(new RegExp("(?:^|\\s)"+t+"(?!\\S)","ig")):void e.classList.contains(t)}t.exports=s},{}],8:[function(e,t,n){function s(){b=new m,g=new m}function i(e,t,n){"undefined"==typeof C[e]&&(C[e]=o(e,t,n))}function o(e,t,n){var s=new v(e,t,n);return a(s),s}function r(e){return C[e]}function a(e){e.onClose(function(){d(e)})}function l(e){x++,$.push(e),P=!y.isVisible(),P&&(y.beforeShow(),w.disable()),e.beforeShow()}function f(e){e.beforeHide(),S=y.isVisible(),x>1&&(S=!1),S&&y.beforeHide()}function u(e){x--,$.pop(),x>0&&$[$.length-1].enable(),S&&(y.afterHide(),w.enable()),e.afterHide()}function c(e,t,n){"object"!=typeof e&&(e=r(e)),"undefined"==typeof t&&(t=!1),"undefined"==typeof n&&(n={overlay:500,panel:500}),x>0&&$[$.length-1].disable(),l(e),P&&(t?y.applyProgress(1):g.run(n.overlay,[.455,.03,.515,.955],function(e){y.applyProgress(e)})),t?(e.applyProgress(1),e.showPanelDone&&e.showPanelDone()):b.run(n.panel,[.455,.03,.515,.955],function(t){e.applyProgress(t)},function(){e.showPanelDone&&e.showPanelDone()})}function d(e,t,n){"object"!=typeof e&&(e=r(e)),"undefined"==typeof t&&(t=!1),"undefined"==typeof n&&(n={overlay:500,panel:500}),f(e),S&&(t?y.applyProgress(0):g.run(n.overlay,[.455,.03,.515,.955],function(e){y.applyProgress(1-e)})),t?(e.applyProgress(0),u(e)):b.run(n.panel,[.455,.03,.515,.955],function(t){e.applyProgress(1-t)},function(){u(e)})}function h(e){d(e,!0)}function p(){if(x>0){for(var e=[],t=0;t<$.length;t++)e.push($[t]);for(var t=0;t<e.length-1;t++)h(e[t]);d(e[e.length-1])}}var b,g,m=e("stepper"),w=e("./bodyScrollDisable"),y=e("./overlay"),v=e("./panel"),C={},P=!0,S=!0,x=0,$=[];t.exports={init:s,registerPanel:i,getPanel:r,showPanel:c,hidePanel:d,hideAll:p}},{"./bodyScrollDisable":5,"./overlay":9,"./panel":10,stepper:2}],9:[function(e,t,n){function s(){i()}function i(){u=document.createElement("div"),u.className="overlay",document.getElementsByTagName("body")[0].appendChild(u)}function o(){h=!0,l(0),c(u,"overlay--visible-step1")}function r(){h=!1}function a(){d(u,"overlay--visible-step1")}function l(e){u.style.opacity=e}function f(){return h}var u,c=e("./addCssClass"),d=e("./removeCssClass"),h=!1;t.exports={init:s,beforeShow:o,beforeHide:r,afterHide:a,applyProgress:l,isVisible:f}},{"./addCssClass":3,"./removeCssClass":11}],10:[function(e,t,n){function s(e,t,n){this.closeCb=void 0,this.beforeShowCb=void 0,this.name=e,this.props=n,this.$el=t,this.$w=this.$el.find(".modal-panel__w"),this.$bg=this.$el.find(".modal-panel__bg"),this.$header=this.$el.find(".modal-panel__header"),this.setEvents()}s.prototype={setEvents:function(){var e=this;this.$el.on("click",".modal-panel__close",function(t){t.preventDefault(),e.closeCb&&e.closeCb()})},getWidth:function(){switch("undefined"==typeof this.props.width){case"undefined":return 320;case"function":return this.props.width();default:return this.props.width}},applyProgress:function(e){this.setXoffset(this.menuWidth-this.menuWidth*e)},setXoffset:function(e){this.$w.css("transform","translate3d("+e+"px,0,0)")},setWidth:function(e){this.$w.css("width",e+"px"),this.$bg.css("width",e+"px"),this.$header.css("width",e+"px")},beforeShow:function(){this.menuWidth=this.getWidth(),this.setWidth(this.menuWidth),this.setXoffset(this.menuWidth),this.$el.addClass("modal-panel--visible"),this.beforeShowCb&&this.beforeShowCb()},showPanelDone:function(){this.$el.addClass("modal-panel--ready"),this.$w.css("transform","")},beforeHide:function(){this.$el.removeClass("modal-panel--ready")},afterHide:function(){this.$el.removeClass("modal-panel--visible")},disable:function(){this.$el.addClass("modal-panel--disabled")},enable:function(){this.$el.removeClass("modal-panel--disabled")},onClose:function(e){this.closeCb=e},onBeforeShow:function(e){this.beforeShowCb=e}},t.exports=s},{}],11:[function(e,t,n){function s(e,t){"undefined"!=typeof e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)"+t+"(?!\\S)","ig"),"")}t.exports=s},{}],12:[function(e,t,n){function s(e){window.scrollTo(0,e)}t.exports=s},{}]},{},[4])(4)});